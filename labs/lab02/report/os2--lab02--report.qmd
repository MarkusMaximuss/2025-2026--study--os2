---
## Author
author:
  name: Марк Максимович Мургия
  degrees: DSc
  orcid: 0009-0006-9370-0808
  email: 1132243817@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Лабораторная работа №2"
subtitle: "Управление пользователями и группами"
license: "CC BY"
---

# Цель работы

Получить представление о работе с учетными записями пользователей и группами пользователей в операционной системе типа Linux.

# Задание

Нужно создать несколько пользователей с помощью терминала, а потом их использовать, чтобы понять остальные команды и функции, связанные с пользователями в группами

# Теоретическое введение

Ниже, в [табл. @tbl-std-dir], приведен краткий обзор полей файла /etc/passwd, за которым следует краткое описание их цели.

| Имя поля          | Описание поля                                                                        |
|-------------------|--------------------------------------------------------------------------------------|
| Имя пользователя  | Уникальное имя для пользователя                                                      |
| Пароль            | Раньше хранился хешированный пароль пользователя (теперь в /etc/shadow)              |
| UID, User ID      | Уникальный числовой идентификатор пользователя                                       |
| GID, Group ID     | Идентификатор основной группы                                                        |
| Поле комментариев | Описание назначения учетной записи пользователя                                      |
| Каталог           | Начальный (домашний) каталог, в котором пользователь находится после входа в систему |
| Оболочка (Shell)  | Программа, которая запускается после успешного подключения пользователя к системе    |

: Описание полей файла /etc/passwd {#tbl-std-dir}

Более подробно про Unix см. в [@tanenbaum_book_modern-os_ru; @robbins_book_bash_en; @zarrelli_book_mastering-bash_en; @newham_book_learning-bash_en].

# Выполнение лабораторной работы

1. После того, как поняли, из чего состоит учетная запись пользователя Linux, создать два пользователя через терминал, alice и bob.

2. Вернуться в root, чтобы поменать параметры в `login.defs` для создания отдельной группы и `.bashrc` для установления mceditor. Также создать пользователя carol, и меняем у него параметры пароля.

3. Создать группы main и third. В первую будут входить alice и bob, а carol будет находится во второй группе.

В результате получилось данное:

> wheel:x:10:mmmurgia,alice
>
> main:x:1003:alice,bob
>
> third:x:1004:carol

# Выводы

Изучили как создавать пользователей и группы, как ими управлять, а также узнали о разных параметрах и функций

# Ответы на контрольные вопросы

## 1 При помощи каких команд можно получить информацию о номере (идентификаторе), назначенном пользователю Linux, о группах в которые включен пользователь?

`id`, `groups`

## 2 Какой UID имеет пользователь root? При помощи какой команды можно узнать UID пользователя? Приведите примеры

![Идентификатор root](image/lab2-1.png){#fig-001 width=70%}

## 3 В чем состоит различие между командами su и sudo?

`su` используется для замены пользователей, а `sudo` используют для получения прав на какую-нибудь команду.

## 4 В каком конфигурационном файле определяются параметры sudo?

`/etc/sudoers`

## 5 Какую команду следует использовать для безопасного изменения конфигурации sudo?

![sudo visudo](image/lab2-2.png){#fig-002 width=70%}

## 6 Если вы хотите предоставить пользователю доступ ко всем командам администрирования системы через sudo, членом какой группы он должен быть?

`sudo usermod -aG wheel` ...

## 7 Какие файлы/каталоги можно использовать для определения параметров, которые будут использоваться при создании учетных записей пользователей? Приведите примеры настроек.

`/etc/shadow`, `/etc/group`, `/etc/passwd`

## 8 Где хранится информация о первичной и дополнительных группах пользователей ОС типа Linux? В отчете приведите пояснение таких записей для пользователя alice.

`alice:x:1001:1001::/home/alice:/bin/bash`

## 9 Какие команды вы можете использовать для изменения информации о пароле пользователя (например о сроке действия пароля)?

`sudo passwd`

## 10 Какую команду следует использовать для прямого изменения информации в файле /etc/group и почему?

`groupadd`, `vipw`, и `vigr`

Обычным текстовым редактором невозможно изменить данные файла `/etc/group`.

# Список литературы{.unnumbered}

::: {#refs}
:::
